/*!
 * Proa Tools Records v1.0.10 (https://github.com/proa-data/proa-tools-records)
 */
angular.module("proaTools.records",["ngAria","ui.bootstrap"]),function(){function t(t){t.maxSize=5,t.forceEllipses=!0,t.previousText="⯇",t.nextText="⯈",t.boundaryLinkNumbers=!0}t.$inject=["uibPaginationConfig"],angular.module("proaTools.records").config(t)}(),angular.module("proaTools.records").constant("PT_RECORDS_TEXTS",{number:"#",noData:"No data"}),function(){function t(r,a,i,c){return t.$inject=["$scope","$attrs"],{restrict:"A",scope:!0,controller:t,compile:function(){return function(e,t){var r=0;t.find("thead > tr:first").prepend(o("<th>"+i.number+"</th>")).find("th").each(function(){r+=angular.element(this).prop("colspan")}).end().end().find("tbody").append(o('<tr><td colspan="'+r+'" ng-show="!$totalItems.length">'+i.noData+"</td></tr>"));var n=t.parent();function o(t){return c(t)(e)}n.hasClass("table-responsive")&&(t=n),t.before(o('<ul uib-pagination total-items="$totalItems.length" ng-model="$currentPage" ng-show="$totalItems.length" class="pagination-pt-records"></ul>'))}}};function t(n,t){var o=r("limitTo"),i=r("orderBy");function e(){var t=n.orderConfig,e=a.itemsPerPage,r=n.$currentPage;n.$list=o(i(n.$totalItems,t.property,t.desc),e,(r-1)*e)}n.$currentPage=1,n.orderConfig={},n.sort=function(t){var e=n.orderConfig;e.property==t?(e.desc&&(t=void 0),e.desc=!e.desc):e.desc=!1;e.property=t},n.isActive=function(t){return n.orderConfig.property==t},n.getIconClass=function(t){var e=n.orderConfig;return"glyphicon-"+(e.property==t?"arrow-"+(e.desc?"down":"up"):"sort")},n.$watchCollection(t.ptList,function(t){n.$totalItems=t,e()}),n.$watch("$currentPage",e),n.$watchCollection("orderConfig",e)}}function e(o){return function(t,e,r){e.removeAttr(i(r,t));var n=o(e);return function(t){n(t)}}}function r(r,n){return{restrict:"A",require:"^^ptList",terminal:!0,priority:1e3,compile:function(t,e){return e.$set("ngRepeat",(t.attr(i(e,"ptItem"))||"$item")+" in $list"),t.prepend('<td class="text-right">{{($currentPage - 1) * '+r.itemsPerPage+" + $index + 1 | number}}</td>"),n("ptItem",t,e)}}}function n(n){return{restrict:"A",require:"^^ptList",terminal:!0,priority:1e3,compile:function(t,e){var r=e.ptOrder;return t.append(' <button type="button" class="btn btn-default btn-xs pull-right btn-pt-records" ng-class="{active: isActive(\''+r+"')}\" ng-click=\"sort('"+r+'\')"><span class="glyphicon" ng-class="getIconClass(\''+r+"')\"></span></button>"),n("ptOrder",t,e)}}}function i(t,e){return t.$attr[e]}t.$inject=["$filter","uibPaginationConfig","PT_RECORDS_TEXTS","$compile"],e.$inject=["$compile"],r.$inject=["uibPaginationConfig","compilerPostLink"],n.$inject=["compilerPostLink"],angular.module("proaTools.records").directive("ptList",t).factory("compilerPostLink",e).directive("ptItem",r).directive("ptOrder",n)}();