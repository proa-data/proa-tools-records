angular.module("proaTools.records",["ngAria","ui.bootstrap"]),function(){function t(t){t.maxSize=5,t.forceEllipses=!0,t.previousText="⯇",t.nextText="⯈",t.boundaryLinkNumbers=!0}t.$inject=["uibPaginationConfig"],angular.module("proaTools.records").config(t)}(),angular.module("proaTools.records").constant("PT_RECORDS_TEXTS",{number:"#",noData:"No data"}),function(){function t(n,c,i,a){return t.$inject=["$scope","$attrs"],{restrict:"A",scope:!0,controller:t,compile:function(){return function(e,t){var n=0;t.find("thead > tr:first").prepend(o("<th>"+i.number+"</th>")).find("th").each(function(){n+=angular.element(this).prop("colspan")}).end().end().find("tbody").append(o('<tr><td colspan="'+n+'" ng-show="!$totalItems.length">'+i.noData+"</td></tr>"));var r=t.parent();function o(t){return a(t)(e)}r.hasClass("table-responsive")&&(t=r),t.before(o('<ul uib-pagination total-items="$totalItems.length" ng-model="$currentPage" ng-show="$totalItems.length" class="pagination-pt-records"></ul>'))}}};function t(r,t){var o=n("limitTo"),i=n("orderBy");function e(){var t=r.orderConfig,e=c.itemsPerPage,n=r.$currentPage;r.$list=o(i(r.$totalItems,t.property,t.desc),e,(n-1)*e)}r.$currentPage=1,r.orderConfig={},r.sort=function(t){var e=r.orderConfig;e.property==t?(e.desc&&(t=void 0),e.desc=!e.desc):e.desc=!1;e.property=t},r.isActive=function(t){return r.orderConfig.property==t},r.getIconClass=function(t){var e=r.orderConfig;return"glyphicon-"+(e.property==t?"arrow-"+(e.desc?"down":"up"):"sort")},r.$watchCollection(t.ptList,function(t){r.$totalItems=t,e()}),r.$watch("$currentPage",e),r.$watchCollection("orderConfig",e)}}function e(o){return function(t,e,n){e.removeAttr(i(n,t));var r=o(e);return function(t){r(t)}}}function n(n,r){return{restrict:"A",require:"^^ptList",compile:function(t,e){return e.$set("ngRepeat",(t.attr(i(e,"ptItem"))||"$item")+" in $list"),t.prepend('<td class="text-right">{{($currentPage - 1) * '+n.itemsPerPage+" + $index + 1 | number}}</td>"),r("ptItem",t,e)}}}function r(r){return{restrict:"A",require:"^^ptList",terminal:!0,priority:1e3,compile:function(t,e){var n=e.ptOrder;return t.append(' <button type="button" class="btn btn-default btn-xs pull-right btn-pt-records" ng-class="{active: isActive(\''+n+"')}\" ng-click=\"sort('"+n+'\')"><span class="glyphicon" ng-class="getIconClass(\''+n+"')\"></span></button>"),r("ptOrder",t,e)}}}function i(t,e){return t.$attr[e]}t.$inject=["$filter","uibPaginationConfig","PT_RECORDS_TEXTS","$compile"],e.$inject=["$compile"],n.$inject=["uibPaginationConfig","compilerPostLink"],r.$inject=["compilerPostLink"],angular.module("proaTools.records").directive("ptList",t).factory("compilerPostLink",e).directive("ptItem",n).directive("ptOrder",r)}();