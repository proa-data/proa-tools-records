/*!
 * Proa Tools Records v1.1.2 (https://github.com/proa-data/proa-tools-records)
 */
angular.module("proaTools.records",["ngAria","ui.bootstrap"]),function(){function t(t){t.maxSize=5,t.forceEllipses=!0,t.previousText="⯇",t.nextText="⯈",t.boundaryLinkNumbers=!0}t.$inject=["uibPaginationConfig"],angular.module("proaTools.records").config(t)}(),angular.module("proaTools.records").constant("PT_RECORDS_TEXTS",{number:"#",noData:"No data"}),function(){function t(e,i,r,s){return t.$inject=["$scope","$attrs"],{restrict:"A",scope:!0,controller:t,compile:function(){return function(n,t){var e=0;t.find("thead > tr:first").prepend(a("<th>"+r.number+"</th>")).find("th").each(function(){e+=angular.element(this).prop("colspan")}).end().end().find("tbody").append(a('<tr><td colspan="'+e+'" ng-if="!$totalItems.length">'+r.noData+"</td></tr>")),n.$$element=t.get(0);var o=t.parent();function a(t){return s(t)(n)}o.hasClass("table-responsive")&&(t=o),t.before(a('<div class="clearfix" ng-show="$totalItems.length"><ul uib-pagination total-items="$totalItems.length" ng-model="$currentPage" class="pagination-pt-records pull-left" ng-show="$enabledPagination"></ul><div class="btn-group pull-right" role="group"><button type="button" class="btn btn-default" ng-click="$disablePagination()" ng-show="$enabledPagination"><span class="fa-stack fa-stack-pt-records"><span class="far fa-file fa-stack-1x"></span><span class="fas fa-slash fa-stack-1x"></span></span></button><button type="button" class="btn btn-default" ng-click="$enablePagination()" ng-show="!$enabledPagination"><span class="fas fa-undo"></span></button><button type="button" class="btn btn-default" ng-click="$exportToXls()" ng-disabled="$disabledExportingButton"><span class="fas fa-file-excel"></span></button></div></div>'))}}};function t(o,t){var a=e("limitTo"),r=e("orderBy");function n(){var t=o.orderConfig,n=r(o.$totalItems,t.property,t.desc);if(o.$enabledPagination){var e=i.itemsPerPage;o.$list=a(n,e,(o.$currentPage-1)*e)}else o.$list=n}o.$currentPage=1,o.$getRowNumber=function(t){var n=t+1;return o.$enabledPagination?(o.$currentPage-1)*i.itemsPerPage+n:n},o.$exportToXls=function(){XLSX.writeFile(XLSX.utils.table_to_book(o.$$element),(t.ptExport||"Excel")+".xlsx")},o.$disabledExportingButton=void 0===t.ptExport,o.$enabledPagination=!0,o.$disablePagination=function(){o.$enabledPagination=!1},o.$enablePagination=function(){o.$enabledPagination=!0},o.orderConfig={},o.sort=function(t){var n=o.orderConfig;n.property==t?(n.desc&&(t=void 0),n.desc=!n.desc):n.desc=!1;n.property=t},o.isActive=function(t){return o.orderConfig.property==t},o.getIconClass=function(t){var n=o.orderConfig;return"glyphicon-"+(n.property==t?"arrow-"+(n.desc?"down":"up"):"sort")},o.$watchCollection(t.ptList,function(t){o.$totalItems=t,n()}),o.$watch("$currentPage",n),o.$watch("$enabledPagination",n),o.$watchCollection("orderConfig",n)}}function n(a){return function(t,n,e){n.removeAttr(r(e,t));var o=a(n);return function(t){o(t)}}}function e(e){return{restrict:"A",require:"^^ptList",terminal:!0,priority:1e3,compile:function(t,n){return n.$set("ngRepeat",(t.attr(r(n,"ptItem"))||"$item")+" in $list"),t.prepend('<td class="text-right">{{$getRowNumber($index) | number}}</td>'),e("ptItem",t,n)}}}function o(o){return{restrict:"A",require:"^^ptList",terminal:!0,priority:1e3,compile:function(t,n){var e=n.ptOrder;return t.append(' <button type="button" class="btn btn-default btn-xs pull-right btn-pt-records" ng-class="{active: isActive(\''+e+"')}\" ng-click=\"sort('"+e+'\')"><span class="glyphicon" ng-class="getIconClass(\''+e+"')\"></span></button>"),o("ptOrder",t,n)}}}function r(t,n){return t.$attr[n]}t.$inject=["$filter","uibPaginationConfig","PT_RECORDS_TEXTS","$compile"],n.$inject=["$compile"],e.$inject=["compilerPostLink"],o.$inject=["compilerPostLink"],angular.module("proaTools.records").directive("ptList",t).factory("compilerPostLink",n).directive("ptItem",e).directive("ptOrder",o)}();